import React, { useState } from "react";
import './ConservationPage.css';

const pages = [
  {
    left: {
      title: "ความสำคัญของปลา",
      content:
        "ปลาน้ำจืดมีบทบาทสำคัญในระบบนิเวศของแม่น้ำและทะเลสาบ ช่วยควบคุมจำนวนสิ่งมีชีวิตอื่นในระบบน้ำ และยังเป็นแหล่งโปรตีนหลักของคนไทยในหลายพื้นที่ โดยเฉพาะในชนบทที่ปลาคือแหล่งอาหารราคาถูกและมีคุณค่าทางโภชนาการสูง นอกจากนี้ ปลายังมีส่วนช่วยในการรักษาสมดุลของระบบนิเวศ เช่น การกินแพลงก์ตอนหรือสัตว์น้ำขนาดเล็ก ซึ่งลดการเกิดแพลงก์ตอนบลูมที่อาจเป็นอันตรายต่อแหล่งน้ำ"
    },
    right: {
      title: "แนวทางการอนุรักษ์",
      content:
        "แนวทางในการอนุรักษ์ปลาน้ำจืดเริ่มจากการลดการปล่อยของเสียจากครัวเรือนและโรงงานลงสู่แม่น้ำ รวมถึงส่งเสริมการเลี้ยงปลาพื้นเมืองที่มีความต้านทานโรคได้ดี ควบคุมการจับปลาให้สอดคล้องกับฤดูวางไข่ และจำกัดขนาดเครื่องมือที่ใช้จับปลา อีกทั้งยังสามารถร่วมมือกับชุมชนในการจัดกิจกรรมดูแลแหล่งน้ำ เช่น การตรวจคุณภาพน้ำ การปล่อยพันธุ์ปลาคืนสู่ธรรมชาติ และการให้ความรู้กับประชาชนเกี่ยวกับคุณค่าของปลาในระบบนิเวศ"
    }
  },
  {
    left: {
      title: "ภัยคุกคามต่อปลา",
      content:
        "ภัยคุกคามที่สำคัญต่อปลาน้ำจืดมีหลายประการ ได้แก่ การใช้สารเคมีทางการเกษตรที่ไหลลงสู่แหล่งน้ำ การจับปลามากเกินไปโดยไม่สนใจฤดูกาลวางไข่ และการเปลี่ยนแปลงของสภาพภูมิอากาศที่ทำให้อุณหภูมิน้ำเปลี่ยนแปลง ซึ่งส่งผลต่อการอยู่รอดของปลาโดยตรง นอกจากนี้ การบุกรุกแหล่งน้ำ เช่น การถมคลอง การสร้างเขื่อน หรือการเปลี่ยนเส้นทางน้ำธรรมชาติ ก็ทำให้ปลาไม่มีพื้นที่อยู่อาศัยหรือแหล่งวางไข่"
    },
    right: {
      title: "การฟื้นฟูแหล่งน้ำ",
      content:
        "การฟื้นฟูแหล่งน้ำต้องอาศัยความร่วมมือจากหลายฝ่าย ทั้งภาครัฐ เอกชน และชุมชน เช่น การปลูกป่าริมน้ำเพื่อป้องกันการพังทลายของตลิ่ง การปล่อยพันธุ์ปลาท้องถิ่นกลับคืนสู่แหล่งน้ำธรรมชาติ การลดการใช้น้ำอย่างฟุ่มเฟือย และส่งเสริมให้เกิดระบบเกษตรที่เป็นมิตรต่อสิ่งแวดล้อม เช่น เกษตรอินทรีย์ รวมถึงการจัดการน้ำเสียให้ได้มาตรฐานก่อนปล่อยลงแม่น้ำ เพื่อให้ระบบนิเวศกลับมาฟื้นตัวได้อย่างยั่งยืนในระยะยาว"
    }
  },
  {
    left: {
      title: "บทบาทของปลาในวิถีชีวิตไทย",
      content:
        "ปลาน้ำจืดมีความเกี่ยวข้องกับวิถีชีวิตของคนไทยมายาวนาน ไม่ว่าจะเป็นอาหารในครัวเรือน พิธีกรรม ความเชื่อ หรือแม้แต่การเลี้ยงปลาเป็นรายได้เสริม คนไทยคุ้นเคยกับปลาในฐานะอาหารหลักทั้งแบบสด แห้ง หมัก และตากแดด ซึ่งแสดงถึงความหลากหลายทางวัฒนธรรมในแต่ละท้องถิ่น"
    },
    right: {
      title: "เศรษฐกิจและปลา",
      content:
        "การประมงน้ำจืดมีบทบาทสำคัญต่อเศรษฐกิจระดับท้องถิ่นและระดับประเทศ การจำหน่ายปลาในตลาดสดหรือแปรรูปเป็นผลิตภัณฑ์อาหารแปรรูปสร้างรายได้ให้แก่เกษตรกรและชาวประมงพื้นบ้าน อีกทั้งการพัฒนาอุตสาหกรรมการเพาะเลี้ยงปลาอย่างยั่งยืนยังสามารถส่งออกและแข่งขันในตลาดโลกได้"
    }
  },
  {
    left: {
      title: "การมีส่วนร่วมของชุมชน",
      content:
        "ชุมชนมีบทบาทสำคัญในการอนุรักษ์ทรัพยากรธรรมชาติ เช่น การรวมกลุ่มเฝ้าระวังแหล่งน้ำ การจัดตั้งธนาคารพันธุ์ปลา และการจัดกิจกรรมปล่อยปลาในวันสำคัญทางศาสนาหรือท้องถิ่น ชุมชนที่เข้มแข็งสามารถสร้างจิตสำนึกและแรงขับเคลื่อนต่อการอนุรักษ์อย่างต่อเนื่อง"
    },
    right: {
      title: "ข้อเสนอเชิงนโยบาย",
      content:
        "ภาครัฐควรส่งเสริมการออกกฎหมายที่ปกป้องแหล่งน้ำและทรัพยากรสัตว์น้ำอย่างเข้มงวด จัดตั้งกองทุนสนับสนุนเกษตรกรที่ทำประมงแบบยั่งยืน รวมถึงพัฒนาองค์ความรู้ร่วมกับนักวิจัยเพื่อพัฒนานวัตกรรมในการเพาะพันธุ์ปลา การฟื้นฟูระบบนิเวศ และการเฝ้าระวังผลกระทบจากการเปลี่ยนแปลงสภาพภูมิอากาศ"
    }
  }
];

const ConservationPage = () => {
  const [isOpen, setIsOpen] = useState(false);
  const [page, setPage] = useState(0);
  const [flipped, setFlipped] = useState(false);

  const changePage = (dir) => {
    setFlipped(true);
    setTimeout(() => {
      setPage((prev) => (prev + dir + pages.length) % pages.length);
      setFlipped(false);
    }, 600);
  };

  return (
    <div className="book-container">
      {!isOpen ? (
        <div className="cover-page">
          <h1>การอนุรักษ์ปลาน้ำจืด</h1>
          <p>สำรวจความรู้เรื่องปลาและระบบนิเวศ</p>
          <button onClick={() => setIsOpen(true)} className="back-btn">
            เปิดสมุด
          </button>
        </div>
      ) : (
        <div className="book">
          <div className={`page ${flipped ? 'flipped' : ''}`}>
            <div className="front">
              <h2>{pages[page].left.title}</h2>
              <p>{pages[page].left.content}</p>
            </div>
            <div className="back">
              <h2>{pages[page].right.title}</h2>
              <p>{pages[page].right.content}</p>
            </div>
          </div>
        </div>
      )}

      {isOpen && (
        <>
          <button onClick={() => setIsOpen(false)} className="back-btn">
            กลับหน้าปก
          </button>
          <button onClick={() => changePage(-1)} className="flip-btn left">
            ◀
          </button>
          <button onClick={() => changePage(1)} className="flip-btn right">
            ▶
          </button>
        </>
      )}
    </div>
  );
};

export default ConservationPage;